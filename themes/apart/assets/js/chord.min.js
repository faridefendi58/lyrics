function clean_basic_tone(t){return t.length>1&&"#"!=t.charAt(1)&&($("#switch-content").find("div").each(function(){$(this).hasClass("font-size-14")||($(this).text($(this).text()+t.substr(1)),$(this).removeClass("font-size-18").addClass("font-size-14"))}),t=t.charAt(0)),t.length>2&&"#"==t.charAt(1)&&(t=t.charAt(0)+"#"),t}function transpose(t,e){var i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o=i.indexOf(t),s=i.indexOf(clean_basic_tone(e)),n=(o-s)/2;$("a.chord").each(function(){var t=$(this).text(),e=i.indexOf(t);0>e&&(t.length>2?e="#"==t.charAt(1)?i.indexOf(t.charAt(0)+t.charAt(1)):i.indexOf(t.charAt(0)):2==t.length&&(e=i.indexOf(t.charAt(0))));var o=e-2*n;0>o?o=i.length+o:o>11&&(o-=12);var s="";t.length>2?(s=t.substr(1),"#"==t.charAt(1)&&(s=t.substr(2))):2==t.length&&"#"!=t.charAt(1)&&(s=t.substr(1));var a=i[o]+s;"E#"==a&&(a="F"),"B#"==a&&(a="C"),$(this).text().length>0&&$(this).text(a),resetPosition()}),onAfterTransposed()}function build_chord(){$("head").append("<style>.blog-text sup {top: -1.3em;font-size: 14px;}.blog-text p {line-height: 2.7;}</style>"),$(".blog-text").find("a").each(function(){$(this).addClass($(this).text())}),resetPosition()}function resetPosition(){$(".blog-text").find("a").each(function(){"sup"==$(this).parent()[0].nodeName.toLowerCase()&&($(this).text().length>0?$(this).parent().attr("style","width:0px;height:0px;display:inline-block;"):$(this).parent().attr("style","width:20px;height:0px;display:inline-block;"))})}function onAfterTransposed(){}jQuery(document).ready(function(t){if(t("body").append('<div id="switcher-button" style="background: #00ca9b; text-align: center; padding-top: 12px; width: 50px; height: 50px; color: #ffffff; cursor: pointer; z-index: 560; position: fixed; top: 150px; right: 0px;"><i class="fa fa-music fa-2x"></i></div><div id="switcher" style="width: 285px; position: fixed; overflow-x: hidden; right: -285px; top: 130px; z-index: 560; margin-top: 20px; margin-bottom: 20px;"> <div style="float: left; background: #00ca9b; width: 285px; height: 50px; line-height: 50px; text-align: center; color: #ffffff;"> <h4 style="color:#ffffff; line-height: 50px;">Transpose</h4> </div><div id="switch-content" style="width: 285px; background: white; padding: 10px; float: left;"> <h5 style="margin: 0px 0 10px 0" class="text-bold">Ubah Nada Dasar</h5> <div id="C" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px; margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">C</div><div id="C#" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px; margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">C#</div><div id="D" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px; margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">D</div><div id="D#" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px;margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">D#</div><div id="E" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px;margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">E</div><div id="F" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">F</div><div id="F#" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px; margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">F#</div><div id="G" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px;margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">G</div><div id="G#" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px;margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">G#</div><div id="A" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px;margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">A</div><div id="A#" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-right: 10px;margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">A#</div><div id="B" style="width: 35px; height: 35px; background: #ebebeb; float: left; margin-bottom: 15px; cursor: pointer;padding-top:5px;" class="font-size-18 text-bold text-center">B</div></div></div>'),t("head").append("<style>.switch-button-label{float:left;font-size:10pt;cursor:pointer}.switch-button-label.off{color:#adadad}.switch-button-label.on{color:#08C}.switch-button-background{float:left;position:relative;background:#ccc;border:1px solid #aaa;margin:1px 10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer}.switch-button-button{position:absolute;left:-1px;top:-1px;background:#FAFAFA;border:1px solid #aaa;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;}.current-basic-tone{background:#f0ad4e !important;color:#ffffff;}</style>"),t("input#boxed").switchButton({on_label:" BOXED",off_label:"WIDE ",width:125,height:25,button_width:30,checked:!1}),w_height-150<t("#switcher").innerHeight()&&(t("#switcher").css("height",w_height-150+"px"),t("#switcher").css("overlow-y","scroll")),t("#switcher-button").click(function(){t("#switcher").hasClass("open")?(t("#switcher").removeClass("open"),t("#switcher").animate({right:"-285px"},500),t("#switcher-button").animate({right:"0px"},500),t("#switch-content").css("box-shadow","none"),t(this).find("i").removeClass("fa-times").addClass("fa-music")):(t("#switcher").addClass("open"),t("#switcher").animate({right:"0px"},500),t("#switcher-button").animate({right:"285px"},500),t("#switch-content").css("box-shadow","0px 5px 5px 0px rgba(0, 0, 0, 0.35)"),t("#switch-content").css("border-bottom","1px solid #ebebeb"),t("#switch-content").css("border-left","1px solid #ebebeb"),t(this).find("i").removeClass("fa-music").addClass("fa-times"))}),t("#scroll-button").click(function(){t("#scroll").hasClass("open")?(t("#scroll").removeClass("open"),t("#scroll").animate({right:"-100px"},500),t("#scroll-button").animate({right:"0px"},500),t("#scroll-content").css("box-shadow","none"),t(this).find("i").addClass("hidden")):(t("#scroll").addClass("open"),t("#scroll").animate({right:"0px"},80),t("#scroll-button").animate({right:"100px"},500),t(this).find("i").removeClass("hidden"))}),build_chord(),t("a.chord").length>0){var e=clean_basic_tone(t("a.chord").first().text());t("#switch-content").find('div[id="'+e+'"]').addClass("current-basic-tone"),t("#switch-content").find("div").click(function(){transpose(clean_basic_tone(t("a.chord").first().text()),t(this).text()),t("#switch-content").find(".current-basic-tone").removeClass("current-basic-tone"),t(this).addClass("current-basic-tone")})}}),String.prototype.replaceAll=function(t,e){var i=new RegExp(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g");return this.replace(i,e)},!function(t){t.widget("sylightsUI.switchButton",{options:{checked:void 0,show_labels:!0,labels_placement:"both",on_label:"ON",off_label:"OFF",width:25,height:11,button_width:12,clear:!0,clear_after:null,on_callback:void 0,off_callback:void 0},_create:function(){void 0===this.options.checked&&(this.options.checked=this.element.prop("checked")),this._initLayout(),this._initEvents()},_initLayout:function(){this.element.hide(),this.off_label=t("<span>").addClass("switch-button-label"),this.on_label=t("<span>").addClass("switch-button-label"),this.button_bg=t("<div>").addClass("switch-button-background"),this.button=t("<div>").addClass("switch-button-button"),this.off_label.insertAfter(this.element),this.button_bg.insertAfter(this.off_label),this.on_label.insertAfter(this.button_bg),this.button_bg.append(this.button),this.options.clear&&(null===this.options.clear_after&&(this.options.clear_after=this.on_label),t("<div>").css({clear:"left"}).insertAfter(this.options.clear_after)),this._refresh(),this.options.checked=!this.options.checked,this._toggleSwitch()},_refresh:function(){switch(this.options.show_labels?(this.off_label.show(),this.on_label.show()):(this.off_label.hide(),this.on_label.hide()),this.options.labels_placement){case"both":(this.button_bg.prev()!==this.off_label||this.button_bg.next()!==this.on_label)&&(this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertAfter(this.button_bg),this.on_label.addClass(this.options.checked?"on":"off").removeClass(this.options.checked?"off":"on"),this.off_label.addClass(this.options.checked?"off":"on").removeClass(this.options.checked?"on":"off"));break;case"left":(this.button_bg.prev()!==this.on_label||this.on_label.prev()!==this.off_label)&&(this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertBefore(this.button_bg),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on"));break;case"right":(this.button_bg.next()!==this.off_label||this.off_label.next()!==this.on_label)&&(this.off_label.detach(),this.on_label.detach(),this.off_label.insertAfter(this.button_bg),this.on_label.insertAfter(this.off_label),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on"))}this.on_label.html(this.options.on_label),this.off_label.html(this.options.off_label),this.button_bg.width(this.options.width),this.button_bg.height(this.options.height),this.button.width(this.options.button_width),this.button.height(this.options.height)},_initEvents:function(){var t=this;this.button_bg.click(function(e){return e.preventDefault(),e.stopPropagation(),t._toggleSwitch(),!1}),this.button.click(function(e){return e.preventDefault(),e.stopPropagation(),t._toggleSwitch(),!1}),this.on_label.click(function(){return t.options.checked&&"both"===t.options.labels_placement?!1:(t._toggleSwitch(),!1)}),this.off_label.click(function(){return t.options.checked||"both"!==t.options.labels_placement?(t._toggleSwitch(),!1):!1})},_setOption:function(t,e){return"checked"===t?void this._setChecked(e):(this.options[t]=e,void this._refresh())},_setChecked:function(t){t!==this.options.checked&&(this.options.checked=!t,this._toggleSwitch())},_toggleSwitch:function(){this.options.checked=!this.options.checked;var t="";if(this.options.checked){this.element.prop("checked",!0),this.element.change();var e=this.options.width-this.options.button_width;t="+="+e,"both"==this.options.labels_placement?(this.off_label.removeClass("on").addClass("off"),this.on_label.removeClass("off").addClass("on")):(this.off_label.hide(),this.on_label.show()),this.button_bg.addClass("checked"),"function"==typeof this.options.on_callback&&this.options.on_callback.call(this)}else this.element.prop("checked",!1),this.element.change(),t="-1px","both"==this.options.labels_placement?(this.off_label.removeClass("off").addClass("on"),this.on_label.removeClass("on").addClass("off")):(this.off_label.show(),this.on_label.hide()),this.button_bg.removeClass("checked"),"function"==typeof this.options.off_callback&&this.options.off_callback.call(this);this.button.animate({left:t},250,"easeInOutCubic")}})}(jQuery);